# üöÄ Deployment Guide

## Current Issues & Solutions

### ‚ùå Problem: GitHub Pages Can't Deploy Full-Stack Apps
GitHub Pages only serves static files and cannot run your Node.js backend.

### ‚úÖ Solution: Deploy Frontend and Backend Separately

## üîß Quick Deployment Options

### Option 1: Render.com (Recommended - Free Tier)

#### Deploy Backend to Render:
1. Go to [render.com](https://render.com) and sign up
2. Connect your GitHub account
3. Create a "Web Service" and select your repository
4. Configure:
   - **Root Directory**: `backend`
   - **Build Command**: `npm run build`
   - **Start Command**: `npm start`
   - **Environment**: Node
5. Add Environment Variables:
   - `NODE_ENV`: `production`
   - `JWT_SECRET`: `your-super-secret-jwt-key-12345`
   - `MONGODB_URI`: `mongodb+srv://username:password@cluster.mongodb.net/ecommerce`
   - `PORT`: (auto-generated by Render)
   - `CORS_ORIGIN`: `https://maputhireach.github.io`

#### Frontend (GitHub Pages):
Your frontend will auto-deploy via GitHub Actions, but you need to:
1. Go to GitHub repository Settings ‚Üí Secrets and variables ‚Üí Actions
2. Add secret: `VITE_API_BASE_URL` = `https://your-backend-app.onrender.com/api`

### Option 2: Railway.app (Alternative)

1. Go to [railway.app](https://railway.app)
2. Import your GitHub repository
3. Select the `backend` folder as root
4. Add the same environment variables as above
5. Your backend URL will be like: `https://your-app.up.railway.app`

### Option 3: Vercel (Full-Stack Alternative)

1. Install Vercel CLI: `npm i -g vercel`
2. Run: `vercel --prod`
3. Configure as Node.js project

## üîß Required Environment Variables

### Backend (.env):
```
PORT=5000
NODE_ENV=production
JWT_SECRET=your-super-secret-jwt-key-12345
MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/ecommerce
CORS_ORIGIN=https://maputhireach.github.io
```

### Frontend (GitHub Secrets):
```
VITE_API_BASE_URL=https://your-backend-service.onrender.com/api
```

## üìã Step-by-Step Deployment

### Step 1: Set up MongoDB Atlas (Free)
1. Go to [mongodb.com/atlas](https://mongodb.com/atlas)
2. Create free cluster
3. Get connection string
4. Add to backend environment variables

### Step 2: Deploy Backend
1. Choose Render.com or Railway
2. Connect GitHub repo
3. Set root directory to `backend`
4. Add environment variables
5. Deploy

### Step 3: Update Frontend Configuration
1. Go to GitHub repository ‚Üí Settings ‚Üí Secrets
2. Add `VITE_API_BASE_URL` with your backend URL
3. Push changes to trigger redeployment

### Step 4: Test Deployment
1. Visit your GitHub Pages site
2. Test login/registration
3. Test product browsing and ordering

## üîç Common Deployment Issues & Fixes

### Issue 1: CORS Errors
**Fix**: Ensure backend CORS_ORIGIN matches your frontend URL exactly

### Issue 2: API Not Found (404)
**Fix**: Check VITE_API_BASE_URL is set correctly in GitHub secrets

### Issue 3: Database Connection Fails
**Fix**: Verify MONGODB_URI is correct and IP is whitelisted in MongoDB Atlas

### Issue 4: Environment Variables Not Loading
**Fix**: Restart deployment service after adding environment variables

## üö® Current GitHub Actions Fix Needed

Your current deployment workflow has issues. Here's the corrected version that will be created automatically.

## üìû Need Help?
1. Check deployment logs in your chosen platform
2. Verify all environment variables are set
3. Test API endpoints directly: `https://your-backend.onrender.com/api/health`

## üéØ Expected Results
- Frontend: `https://maputhireach.github.io/ecommerce`
- Backend: `https://your-backend-name.onrender.com`
- API Health: `https://your-backend-name.onrender.com/api/health`